import os
from pathlib import Path

# =========================================================
# 🏭 AI Novel Factory: Strategy File Generator (Modern Fantasy Edition)
# 역할: 사장님의 '프로젝트 제미나이' 보고서를 AI 최적화 규격서로 변환
# 타겟: 00_기준정보_보물창고/04_설정_트랜드/B_현대판타지_1950_2026
# =========================================================

# 1. 저장 위치 설정
CURRENT_DIR = Path.cwd()
TARGET_DIR = CURRENT_DIR / "00_기준정보_보물창고" / "04_설정_트랜드" / "B_현대판타지_1950_2026"

os.makedirs(TARGET_DIR, exist_ok=True)

FILE_NAME = "2026_ModernFantasy_Trend_Strategy.md"
FILE_PATH = TARGET_DIR / FILE_NAME

# 2. 내용 작성 (Markdown + Meta Prompting + ToT Structure)
content = """# 2025-2026 현대판타지 트렌드 및 클리셰 전략 보고서 (Project Gemini)

> **[System Meta-Instruction for AI Agents]**
> 본 문서는 현대 판타지(Modern Fantasy), 전문직물(Professional), 헌터물(Hunter) 기획의 **절대 기준(Absolute Standard)**입니다.
> Creative Planner는 기획 시 본 문서의 **'3가지 심층 분석(전문직/오컬트/자본주의)'** 중 하나를 반드시 핵심 테마로 선정하십시오.
> Red Team은 **'고구마(답답함)'**가 1화의 절반을 넘거나, **'보상(Reward)'**이 불확실한 기획안을 즉시 반려하십시오.

---

## 1. 2026 시장의 거시적 트렌드 (Macro Trends)
* **핵심 정서:** 불확실성의 시대 -> **완벽한 통제(Control) & 확실한 보상(Reward)** 갈구.
* **플랫폼별 특징:**
    * **문피아:** 압도적 전문성(의사, 경제학자) + 생활 밀착형 판타지.
    * **카카오:** 괴담/오컬트 경영 + 퓨전 판타지.
* **UI 트렌드:** **미니멀리즘.** 복잡한 숫자 나열 지양, **'AI 비서'** 같은 파트너형 시스템 대세.

---

## 2. [Tree of Thoughts] 장르별 필승 전략 시뮬레이션

### 🧪 전략 A: 하이퍼 리얼리즘 전문직 (The Hyper-Professional)
* **타겟:** 문피아 베스트 랭킹.
* **주인공:** 대중에게 덜 알려졌지만 실세인 직업 (예: 마취과 의사, 물류 전문가).
* **사이다 공식:** 교수/상사가 쩔쩔매는 희귀 케이스를 **'무심하게'** 해결.
* **핵심:** "이게 왜 안 되지?" (주인공) vs "저걸 어떻게 해?!" (주변) -> **착각계의 묘미.**

### 👻 전략 B: 오컬트 경영 관리물 (The Occult Manager)
* **타겟:** 카카오페이지/시리즈 퓨전 독자.
* **핵심 전환:** 공포(Horror) -> **업무(Task)**. 귀신을 잡는 게 아니라 '디버깅'하고 '민원 처리'함.
* **공략법:** 힘으로 찍어 누르기보다, **'규칙의 허점(Glitch)'**을 이용한 지능적 플레이.
    * *예: 귀신에게 경쟁사 명함을 보여줘서 "타사 직원이네?" 하고 돌려보냄.*

### 💰 전략 C: 자본주의 헌터 & 아포칼립스 물류 (The Capitalist)
* **동기:** 정의(Justice) -> **돈(Money)**.
* **성좌 관계:** 숭배 대상 -> **비즈니스 파트너/호구**. ("입금 안 되면 공략 안 합니다.")
* **변주:** 좀비 사냥(X) -> **안전한 벙커에서 물자 독점 공급(O)**. (물류가 곧 권력)

---

## 3. [AI Action Plan] 실전 집필 가이드 (1화 설계법)

### 3.1 도입부 3요소 (Hooking Protocol)
1.  **Crisis (위기):** 설명 없이 사건 현장에 투하. (수술 중 동맥 파열, 좀비 사태 발발)
2.  **Awakening (각성):** 죽음의 순간, 상태창/회귀 발동. **[업적: 억울한 죽음 달성]**
3.  **Resolution (해결):** 회귀 후 미래 지식/능력으로 위기 즉시 진압.

### 3.2 고구마 vs 사이다 비율 (Golden Ratio)
* **비율:** 위기 1 : 사이다 9 (또는 0 : 10).
* **원칙:** 무시당하는 장면은 2,500자(반 화)를 넘기지 말 것. 즉시 실력으로 참교육.

### 3.3 캐릭터 조형 (Character Template)
| 역할 | 2026 트렌드 설정 | 비고 |
| :--- | :--- | :--- |
| **주인공** | 냉소적, 합리적, **자본주의적**, 프로페셔널 | 호구형 절대 금지 |
| **히로인** | **No Romance** or 썸만 탐 / 유능한 동료 | 스토리 방해 시 삭제 |
| **빌런** | 무능한데 직급만 높은 '꼰대' 상사 | 초반 사이다 제물 |
| **조력자** | 귀여운 마스코트(신수) or 충직한 AI | 힐링 담당 |

---

## 4. 기획안 샘플: <회귀한 물류팀장의 아포칼립스 독점>
* **장르:** 현판 + 아포칼립스 + 경영
* **로그라인:** 좀비 사태로 굶어 죽었던 쿠팡 팀장. 회귀 후 '무한 인벤토리'와 '로켓 배송' 스킬로 생존자들에게 물자를 독점 공급하며 세계를 지배한다.
* **세일즈 포인트:**
    1.  **전문성:** 효율적 동선 설계로 좀비 회피 배송.
    2.  **자본주의:** 라면 한 봉지에 금괴 1개. (악덕 상인이지만 유일한 구원자)

---
> **[Final Summary for AI]**
> 2026년 현대 판타지의 주인공은 **'작가'**가 아니라 도파민을 설계하는 **'엔지니어'**여야 합니다.
> 독자가 원하는 것은 정의 구현이 아니라, **'내 통장의 잔고'**와 **'내 셸터의 안전'**임을 명심하십시오.
"""

# 3. 파일 쓰기
try:
    with open(FILE_PATH, "w", encoding="utf-8") as f:
        f.write(content)
    print(f"✅ [Success] 현대판타지 트렌드 전략 보고서 생성 완료!")
    print(f"📍 저장 위치: {FILE_PATH}")
    print(f"📄 파일 크기: {len(content)} bytes")
    print("👉 Creative Planner가 이 문서를 '현대 판타지 기획의 교과서'로 사용합니다.")
except Exception as e:
    print(f"❌ [Error] 파일 생성 실패: {e}")