import os
from pathlib import Path

# =========================================================
# 🏭 AI Novel Factory: Strategy File Generator (Chaebol Edition)
# 역할: 사장님의 시장 분석 데이터를 AI 최적화 포맷(System Instruction)으로 변환
# 타겟: 00_기준정보_보물창고/04_설정_트랜드/B_현대판타지_1950_2026
# =========================================================

# 1. 저장 위치 설정 (설정_트랜드 폴더 내 현대판타지 섹션)
CURRENT_DIR = Path.cwd()
TARGET_DIR = CURRENT_DIR / "00_기준정보_보물창고" / "04_설정_트랜드" / "B_현대판타지_1950_2026"

os.makedirs(TARGET_DIR, exist_ok=True)

FILE_NAME = "2026_Chaebol_Trend_Strategy.md"
FILE_PATH = TARGET_DIR / FILE_NAME

# 2. 내용 작성 (Markdown + Meta Prompting + RAG Optimized)
content = """# 2026 웹소설 시장 분석: 재벌물(Chaebol) 필승 클리셰 및 전략

> **[System Meta-Instruction for AI]**
> 이 문서는 2026년 재벌물(Corporate Genre) 기획의 **절대 가이드라인(Master Guideline)**입니다.
> Creative Planner는 아래의 **'하이브리드 전략(B+C)'**을 기본값으로 채택하고,
> Red Team은 이 기준에 맞지 않는 기획안(단순 주식 회귀물 등)을 **'Outdated'**로 판정하여 반려하십시오.

---

## 1. 2026 시장 정의: 복합 장르와 압도적 전문성
* **핵심 키워드:** **Genre Hybrid** (재벌+오컬트/무협) + **Hyper-Professionalism** (압도적 직업 능력)
* **독자 니즈:** 단순한 돈 자랑(X) -> **부조리 타파 & 예측 불가능한 전개(O)**
* **성공 모델:** *《괴담에 떨어져도 출근을 해야 하는구나》* (직장 생활 + 오컬트 공포의 결합)

## 2. [Tree of Thoughts] 기획 전략 시뮬레이션
AI는 기획 시 다음 3가지 경로를 검토하되, **[Path 3]**을 최우선으로 채택할 것.

* **[Path 1: 정통 회귀]** (Risk: High Red Ocean)
    * 내용: 억울한 죽음 -> 회귀 -> 주식/코인 대박 -> 복수
    * 판정: **식상함.** 특별한 변주가 없다면 채택 금지.
* **[Path 2: 전문가 빙의]** (Risk: Knowledge Hurdle)
    * 내용: 검사/해결사 -> 재벌가 빙의 -> 능력으로 캐리
    * 판정: 좋음. 하지만 전문성 고증 실패 시 위험.
* **[Path 3: 하이브리드 사이다 (Recommended)]**
    * 내용: **[전문가 능력] + [억압된 환경(데릴사위/서자)] + [독립 선언]**
    * 판정: **BEST.** "가족 경영 따위 안 해, 내가 제국을 만든다"는 스탠스가 2026 트렌드.

## 3. 필수 클리셰 및 변주 전략 (New Cliche Rules)

| 구분 | **구형 클리셰 (Do Not Use)** | **2026 신형 클리셰 (Must Use)** |
| :--- | :--- | :--- |
| **회귀 지식** | 암기력 의존 (몇 년 몇 월 폭등) | **AI/시스템 보조** + **직업적 통찰(범죄/소송 예측)** |
| **주인공 신분** | 사랑받는 막내, 적통 후계자 | **버림받은 서자, 무시받는 데릴사위 (Underdog)** |
| **목표** | 할아버지(회장)의 인정, 승계 | **가문 탈출, 독립적인 압도적 성공, 참교육** |
| **전개 속도** | 어린 시절부터 빌드업 | **1화 회귀 -> 2화 자금 확보(로또/코인) -> 3화 갑질 타파** |

## 4. 심층 분석: 왜 '전문가'와 '오컬트'인가? (Logic)
1.  **무능한 재벌 혐오:** 독자들은 "운 좋게 태어난 놈"보다 **"능력으로 씹어먹는 놈"**을 원함.
2.  **괴담/오컬트의 기능:** '회사'라는 공포스러운 공간을 오컬트로 치환하여 카타르시스 제공.
    * *Tip:* 재벌물에 '가문의 저주', '풍수지리', '수호신' 요소를 섞으면 차별화 가능.

## 5. [AI Action Plan] 4단계 기획 프로세스
기획안 생성 시 반드시 이 순서를 따를 것.

1.  **[Step 1: Setup - The Specialist]**
    * 주인공은 회귀 전 **'대체 불가능한 전문가'**(해결사, 검사, M&A 변호사)여야 함.
    * 단순 회귀가 아니라 **'이능(시스템/상태창)'**을 하나 더 쥐어줄 것.
2.  **[Step 2: Hook - Fast Rewards]**
    * 초반 5화 내에 **'금융 치료(돈)'**와 **'인간관계 참교육'**이 동시에 터져야 함.
    * 돈을 버는 과정은 AI/시스템으로 단축(Skip)하고, 돈을 **쓰는(Flex/Revenge)** 장면에 집중.
3.  **[Step 3: Conflict - The Eul's Revolt]**
    * 주인공은 '을'(데릴사위, 흙수저)의 위치에서 '갑'(재벌가)을 논리와 능력으로 밟아줘야 함.
4.  **[Step 4: Title - Intuitive Sentence]**
    * 형식: **[상태/직업] + [결과/행동]**
    * 예시: *《재벌가 막내는 회귀 검사》*, *《재벌 사위 말고 재벌 하겠습니다》*

## 6. [Red Team Checklist] 자가 검증 항목
* Q1. 주인공이 돈만 믿고 설치는가? (If Yes -> **Reject**. 능력 우선이어야 함.)
* Q2. "미래 주식을 사서 부자가 되었다"로 퉁치고 있는가? (If Yes -> **Reject**. 구체적 시스템 개입 필요.)
* Q3. 고유명사(순양, 강도준 등)를 표절했는가? (If Yes -> **Fatal Error**. 즉시 수정.)

---
> **[Summary for AI]**
> 2026년 재벌물의 본질은 **"압도적 능력을 가진 '을'이, 시스템의 도움으로 부를 축적하여, 기존 기득권(가족)을 박살 내고 독립하는 이야기"**입니다.
"""

# 3. 파일 쓰기
try:
    with open(FILE_PATH, "w", encoding="utf-8") as f:
        f.write(content)
    print(f"✅ [Success] 재벌물 전략 보고서 생성 완료!")
    print(f"📍 저장 위치: {FILE_PATH}")
    print(f"📄 파일 내용: 2026년 트렌드, 하이브리드 전략, 필수 클리셰 포함")
except Exception as e:
    print(f"❌ [Error] 파일 생성 실패: {e}")